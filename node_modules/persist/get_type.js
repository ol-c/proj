var persist    = require('persist');
var files      = require('files');
var references = require('references');

function get_type(val) {
    if      (val === undefined       ) return 'undefined';
    else if (persist.is(val)         ) return 'hashmap'; //  TODO: show other types
    else if (files.is(val)           ) return 'file';
    else if (references.is(val)      ) return 'reference';
    else if (typeof val == 'string'  ) return 'string';
    else if (typeof val == 'number'  ) return 'number';
    else if (typeof val == 'boolean' ) return 'boolean';
    else if (typeof val == 'function') return 'function';
    else if (val === null            ) return 'null';
    else if (Object.prototype.toString.call(val) == '[object Date]') return 'date';
    else return undefined;
}

module.exports = get_type;
