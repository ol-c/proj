var vm = require('vm');
var toolbox = require('toolbox');

function scoped(expression) {
    var context = toolbox;
    vm.runInNewContext('var _tmp_ = ' + expression, context);
    var value = context._tmp_;
    delete context._tmp;
    return value;
}

module.exports = scoped;
