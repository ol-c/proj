var vm = require('vm');
var environment = require('environment');

function scoped(expression) {
    vm.runInNewContext('var _tmp_ = ' + expression, environment);
    var value = environment._tmp_;
    delete environment._tmp_;
    return value;
}

module.exports = scoped;
